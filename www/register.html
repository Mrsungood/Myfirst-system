<!DOCTYPE html>
<html>

<head>
    <title>注册页面</title>
    <meta charset="utf-8">
    <meta name="Keywords " content="$SiteKeywords " />
    <meta name="Description " content="$SiteDescription " />
    <link rel="stylesheet " type="text/css " href="css/globle.css " />
    <link rel="stylesheet " type="text/css " href="css/style.css " />
    <link rel="stylesheet " type="text/css " href="css/bootstrap.css " />
    <link rel="stylesheet " type="text/css " href="css/popupInsert.css " />
    <script src='js/jquery-2.0.3.js'></script>
    <script src='js/bootstrap.js'></script>
    <script src='js/index.js'></script>
    <script src='js/popupInsert.js'></script>
</head>

<body>
    <div class="h50"></div>
    <div id="nav">
        <nav class="nav">
            <div class="back"><span class="glyphicon glyphicon-chevron-left"></span></div>
            <div class="title"><span>注册</span></div>
            <div class="user"><span class="glyphicon glyphicon-home"></span></div>
        </nav>
    </div>
    <main>
        <div class="ask-content">
            <form>
                <div class="form-group">
                    <input type="text" name="name" class="form-control" required pattern="^[0-9a-zA-Z\u4e00-\u9fa5]{2,16}$" placeholder="请输入昵称">
                </div>
                <div class="form-group">
                    <input type="password" name="password" class="form-control" required pattern="^.{6,16}$" placeholder="请输入密码">
                </div>
                <div class="form-group">
                    <input type="password" name="password01" class="form-control" required pattern="^.{6,16}$" placeholder="请再次输入密码">
                </div>
                <div class="form-group">
                    <input type="radio" name="sex" value="女士" id="woman">
                    <label for="woman">女士</label>
                    <br>
                    <input type="radio" name="sex" value="先生" id="man">
                    <label for="man">先生</label>
                </div>
                <div class="form-group">
                    <input type="text" name="email" class="form-control" required placeholder="请输入电子邮箱地址">
                </div>
                <div>
                    <select name="course" class="form-control">
                        <option value="HTML5">HTML5</option>
                        <option value="IOS">IOS</option>
                        <option value="Android">Android</option>
                    </select>
                    <br>
                </div>
                <input type="submit" class="btn btn-success form-control" value="注册" data-toggle="modal" data-target="#myModal">
            </form>
        </div>
    </main>
</body>
<script type="text/javascript">
$(function() {
    // 返回登录
    $('.back').click(function() {
            location.href = 'login.html'
        })
        // 返回主页
    $('.user').click(function() {
            location.href = 'index.html'
        })
        // 提交数据
    $("form").submit(function(e) {
        e.preventDefault()
            // 可以把表单里面的所有内容读出来形成一个字符串
        var data = $(this).serializeArray();
        // console.log($(this).serialize());
        // console.log($(this).serializeArray())
            // ajax发送请求
        $.post('/user/register', data, function(res, statusText, xhr) {
            if (statusText == "success") {
               if(res.code=="success"){
                $.popup1(res.content,function(){
                    location.href="/login.html"
                })
               }else{
                $.popup1(res.content)
               }
            }
        })
    })


})
</script>

</html>
